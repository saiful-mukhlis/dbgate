import{S as ne,i as le,s as oe,z as F,A as P,D,aF as J,G as C,I as v,O as g,P as M,Q as w,R as y,U as se,c as re,bt as ie,o as R,bj as ue,Y as O,a9 as fe,B as Q,K as U,ab as ae,ac as ce,T as V,Z as me,a0 as _e,C as W,H as S,J as E,l as j,a2 as X,V as de,n as H,a1 as A,F as pe}from"./index-632e4f1b.js";import{_ as he}from"./lodash-29c9ec56.js";import"./dbgate-datalib-0d3b84db.js";function K(n,t,e){const s=n.slice();return s[23]=t[e],s}function ge(n){let t,e,s=(n[23].text||n[23].label)+"",o,a,i,u,c,f,p,l=n[23].keyText&&N(n),r=n[23].submenu&&Y();function h(...d){return n[15](n[23],...d)}function _(...d){return n[16](n[23],...d)}return{c(){t=P("li"),e=P("a"),o=W(s),a=D(),l&&l.c(),i=D(),r&&r.c(),u=D(),C(e,"class","svelte-4e3n81"),S(e,"disabled",n[23].disabled),C(t,"class","svelte-4e3n81")},m(d,b){v(d,t,b),E(t,e),E(e,o),E(e,a),l&&l.m(e,null),E(e,i),r&&r.m(e,null),E(t,u),c=!0,f||(p=[j(e,"click",h),j(t,"mouseenter",_)],f=!0)},p(d,b){n=d,(!c||b&256)&&s!==(s=(n[23].text||n[23].label)+"")&&X(o,s),n[23].keyText?l?l.p(n,b):(l=N(n),l.c(),l.m(e,i)):l&&(l.d(1),l=null),n[23].submenu?r?b&256&&g(r,1):(r=Y(),r.c(),g(r,1),r.m(e,null)):r&&(O(),w(r,1,1,()=>{r=null}),M()),(!c||b&256)&&S(e,"disabled",n[23].disabled)},i(d){c||(g(r),c=!0)},o(d){w(r),c=!1},d(d){d&&y(t),l&&l.d(),r&&r.d(),f=!1,de(p)}}}function be(n){let t;return{c(){t=P("li"),C(t,"class","divider svelte-4e3n81")},m(e,s){v(e,t,s)},p:H,i:H,o:H,d(e){e&&y(t)}}}function N(n){let t,e=A(n[23].keyText)+"",s;return{c(){t=P("span"),s=W(e),C(t,"class","keyText svelte-4e3n81")},m(o,a){v(o,t,a),E(t,s)},p(o,a){a&256&&e!==(e=A(o[23].keyText)+"")&&X(s,e)},d(o){o&&y(t)}}}function Y(n){let t,e,s;return e=new pe({props:{icon:"icon menu-right"}}),{c(){t=P("div"),Q(e.$$.fragment),C(t,"class","menu-right svelte-4e3n81")},m(o,a){v(o,t,a),U(e,t,null),s=!0},i(o){s||(g(e.$$.fragment,o),s=!0)},o(o){w(e.$$.fragment,o),s=!1},d(o){o&&y(t),V(e)}}}function q(n){let t,e,s,o;const a=[be,ge],i=[];function u(c,f){return c[23].divider?0:1}return t=u(n),e=i[t]=a[t](n),{c(){e.c(),s=J()},m(c,f){i[t].m(c,f),v(c,s,f),o=!0},p(c,f){let p=t;t=u(c),t===p?i[t].p(c,f):(O(),w(i[p],1,1,()=>{i[p]=null}),M(),e=i[t],e?e.p(c,f):(e=i[t]=a[t](c),e.c()),g(e,1),e.m(s.parentNode,s))},i(c){o||(g(e),o=!0)},o(c){w(e),o=!1},d(c){c&&y(s),i[t].d(c)}}}function G(n){var a;let t,e;const s=[{items:(a=n[6])==null?void 0:a.submenu},n[7],{onCloseParent:n[18]}];let o={};for(let i=0;i<s.length;i+=1)o=fe(o,s[i]);return t=new ve({props:o}),{c(){Q(t.$$.fragment)},m(i,u){U(t,i,u),e=!0},p(i,u){var f;const c=u&708?ae(s,[u&64&&{items:(f=i[6])==null?void 0:f.submenu},u&128&&ce(i[7]),u&516&&{onCloseParent:i[18]}]):{};t.$set(c)},i(i){e||(g(t.$$.fragment,i),e=!0)},o(i){w(t.$$.fragment,i),e=!1},d(i){V(t,i)}}}function ke(n){var p;let t,e,s,o,a,i=F(n[8]),u=[];for(let l=0;l<i.length;l+=1)u[l]=q(K(n,i,l));const c=l=>w(u[l],1,1,()=>{u[l]=null});let f=((p=n[6])==null?void 0:p.submenu)&&G(n);return{c(){t=P("ul");for(let l=0;l<u.length;l+=1)u[l].c();s=D(),f&&f.c(),o=J(),C(t,"class","dropDownMenuMarker svelte-4e3n81"),C(t,"style",e=`left: ${n[1]}px; top: ${n[0]}px`)},m(l,r){v(l,t,r);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(t,null);n[17](t),v(l,s,r),f&&f.m(l,r),v(l,o,r),a=!0},p(l,[r]){var h;if(r&3376){i=F(l[8]);let _;for(_=0;_<i.length;_+=1){const d=K(l,i,_);u[_]?(u[_].p(d,r),g(u[_],1)):(u[_]=q(d),u[_].c(),g(u[_],1),u[_].m(t,null))}for(O(),_=i.length;_<u.length;_+=1)c(_);M()}(!a||r&3&&e!==(e=`left: ${l[1]}px; top: ${l[0]}px`))&&C(t,"style",e),(h=l[6])!=null&&h.submenu?f?(f.p(l,r),r&64&&g(f,1)):(f=G(l),f.c(),g(f,1),f.m(o.parentNode,o)):f&&(O(),w(f,1,1,()=>{f=null}),M())},i(l){if(!a){for(let r=0;r<i.length;r+=1)g(u[r]);g(f),a=!0}},o(l){u=u.filter(Boolean);for(let r=0;r<u.length;r+=1)w(u[r]);w(f),a=!1},d(l){l&&(y(t),y(s),y(o)),se(u,l),n[17](null),f&&f.d(l)}}}function I(n,t=null){var e=document.documentElement,s=n.getBoundingClientRect(),o=s.top+window.pageYOffset-e.clientTop,a=s.left+window.pageXOffset-e.clientLeft;return t=="right"?{top:o,left:a+s.width}:{top:o,left:a}}function we(n){const{width:t,height:e}=n.getBoundingClientRect();let s=I(n),o=null,a=null;s.left+t>window.innerWidth&&(o=s.left-t,o<0&&(o=0)),s.top+e>window.innerHeight&&(a=s.top-e,a<0&&(a=0),a+e>window.innerHeight&&(n.style.height=`${window.innerHeight-a}px`)),o!=null&&(n.style.left=`${o}px`),a!=null&&(n.style.top=`${a}px`)}function Ce(n,t,e){let s,o;re(n,me,m=>e(14,o=m));let{items:a}=t,{top:i}=t,{left:u}=t,{onCloseParent:c}=t,{targetElement:f}=t,p,l,r,h,_;const d=ie();let b=[];function T(){d("close");for(const m of b)m();b=[]}function Z(m){b.push(m)}function B(m,k){if(!k.disabled){if(k.submenu){e(4,l=k),e(5,r=I(m.target,"right")),e(6,h=k),e(7,_=r);return}T(),c&&c(),k.onClick&&k.onClick()}}R(()=>{we(p)});const L=he.throttle(()=>{e(6,h=l),e(7,_=r)},500),z=m=>{m.target.closest("ul.dropDownMenuMarker")||T()};R(()=>(document.addEventListener("mousedown",z,!0),()=>{document.removeEventListener("mousedown",z,!0)}));const x=(m,k)=>B(k,m),$=(m,k)=>{e(5,r=I(k.target,"right")),e(4,l=m),L()};function ee(m){_e[m?"unshift":"push"](()=>{p=m,e(3,p)})}const te=()=>{c&&c(),T()};return n.$$set=m=>{"items"in m&&e(12,a=m.items),"top"in m&&e(0,i=m.top),"left"in m&&e(1,u=m.left),"onCloseParent"in m&&e(2,c=m.onCloseParent),"targetElement"in m&&e(13,f=m.targetElement)},n.$$.update=()=>{n.$$.dirty&28672&&e(8,s=ue(a,{targetElement:f,registerCloseHandler:Z},o))},[i,u,c,p,l,r,h,_,s,T,B,L,a,f,o,x,$,ee,te]}class ve extends ne{constructor(t){super(),le(this,t,Ce,ke,oe,{items:12,top:0,left:1,onCloseParent:2,targetElement:13})}}export{ve as default};
//# sourceMappingURL=DropDownMenu-1cbbebe0.js.map
