{"version":3,"file":"TitleBar-3f58b3b4.js","sources":["../../src/widgets/TitleBar.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import _ from 'lodash';\n  import mainMenuDefinition from '../app/src/mainMenuDefinition.js';\n  import FontIcon from '../icons/FontIcon.svelte';\n  import HorizontalMenu from '../modals/HorizontalMenu.svelte';\n\n  import { activeTab, currentDatabase } from '../stores';\n  import { isMac } from '../utility/common';\n  import getElectron from '../utility/getElectron';\n  import { apiOn } from '../utility/api';\n\n  $: title = _.compact([$activeTab?.title, $currentDatabase?.name, 'DbGate']).join(' - ');\n  const electron = getElectron();\n\n  let isMaximized = false;\n\n  if (electron) {\n    apiOn('setIsMaximized', (maximized: boolean) => {\n      isMaximized = maximized;\n    });\n  }\n</script>\n\n<div class=\"container\" on:dblclick|stopPropagation|preventDefault={() => electron.send('window-action', 'maximize')}>\n  {#if !isMac()}\n    <div class=\"icon\"><img src=\"logo192.png\" width=\"20\" height=\"20\" /></div>\n    <div class=\"menu\">\n      <HorizontalMenu items={mainMenuDefinition({ editMenu: !!electron })} />\n    </div>\n  {/if}\n  <div class=\"title\">{title}</div>\n\n  {#if !isMac()}\n    <div class=\"actions\">\n      <div class=\"button\" on:click={() => electron.send('window-action', 'minimize')}>\n        <FontIcon icon=\"icon window-minimize\" />\n      </div>\n      <div class=\"button\">\n        <FontIcon icon={`icon ${isMaximized ? 'window-restore' : 'window-maximize'}`} on:click={() => electron.send('window-action', 'maximize')} />\n      </div>\n      <div class=\"button close-button\" on:click={() => electron.send('window-action', 'close')}>\n        <FontIcon icon=\"icon window-close\" />\n      </div>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .container {\n    -webkit-app-region: drag;\n    user-select: none;\n    height: var(--dim-titlebar-height);\n    display: flex;\n    align-items: center;\n    background: var(--theme-bg-2);\n    color: var(--theme-font-1);\n  }\n\n  .title {\n    flex-grow: 1;\n    text-align: center;\n    /* font-weight: bold; */\n  }\n\n  .icon {\n    padding: 5px;\n  }\n\n  .button {\n    padding: 5px 10px;\n    font-size: 14pt;\n  }\n\n  .button:hover {\n    background: var(--theme-bg-hover);\n  }\n\n  .close-button:hover {\n    background: var(--theme-icon-red);\n  }\n\n  .menu {\n    margin-left: 10px;\n    -webkit-app-region: no-drag;\n  }\n\n  .actions {\n    display: flex;\n    margin-left: 0;\n    -webkit-app-region: no-drag;\n  }\n</style>\n"],"names":["mainMenuDefinition","ctx","insert","target","div0","anchor","div1","div3","append","div2","isMac","click_handler","electron","click_handler_1","click_handler_2","dblclick_handler"],"mappings":"kdA2B6BA,EAAkB,CAAG,SAAQ,CAAA,CAAIC,EAAQ,CAAA,EAAA,mMAFlEC,EAAuEC,EAAAC,EAAAC,CAAA,WACvEH,EAEKC,EAAAG,EAAAD,CAAA,sPAUuBJ,EAAW,CAAA,EAAG,iBAAmB,iBAAiB,gWAL9EC,EAUKC,EAAAI,EAAAF,CAAA,EATHG,EAEKD,EAAAH,CAAA,qBACLI,EAEKD,EAAAD,CAAA,qBACLE,EAEKD,EAAAE,CAAA,6GAJqBR,EAAW,CAAA,EAAG,iBAAmB,iBAAiB,2NAd1ES,eAQAA,kFAFcT,EAAK,CAAA,CAAA,qGAP3BC,EAsBKC,EAAAG,EAAAD,CAAA,wBAfHG,EAA+BF,EAAAF,CAAA,gHAAXH,EAAK,CAAA,CAAA,oOAIe,MAAAU,EAAA,IAAAC,EAAS,KAAK,gBAAiB,UAAU,EAImBC,EAAA,IAAAD,EAAS,KAAK,gBAAiB,UAAU,EAExFE,EAAA,IAAAF,EAAS,KAAK,gBAAiB,OAAO,EAjBpBG,EAAA,IAAAH,EAAS,KAAK,gBAAiB,UAAU"}