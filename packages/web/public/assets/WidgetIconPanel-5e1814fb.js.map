{"version":3,"file":"WidgetIconPanel-5e1814fb.js","sources":["../../src/widgets/WidgetIconPanel.svelte"],"sourcesContent":["<script lang=\"ts\">\n  // import { onMount } from 'svelte';\n  import FontIcon from '../icons/FontIcon.svelte';\n  import {\n    currentDropDownMenu,\n    selectedWidget,\n    visibleSelectedWidget,\n    visibleWidgetSideBar,\n    visibleHamburgerMenuWidget,\n    lockedDatabaseMode,\n  } from '../stores';\n  import mainMenuDefinition from '../app/src/mainMenuDefinition.js';\n  import hasPermission from '../utility/hasPermission';\n\n  let domSettings;\n  let domMainMenu;\n\n  const widgets = [\n    {\n      iconSvg: `\n<div class=\"c-nav-menu\" title=\"Database connections\"><svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" stroke=\"currentColor\" stroke-width=\"1.75\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"css-i6dzq1\"><ellipse cx=\"12\" cy=\"5\" rx=\"9\" ry=\"3\"></ellipse><path d=\"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3\"></path><path d=\"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5\"></path></svg></div>\n      `,\n      icon: 'icon database',\n      name: 'database',\n      title: 'Database connections',\n    },\n    // {\n    //   icon: 'fa-table',\n    //   name: 'table',\n    // },\n    {\n      icon: 'icon file',\n      iconSvg: `\n<div class=\"c-nav-menu\" title=\"Favorites & Saved files\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"svg-icon lucide-folder-closed\"><path d=\"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z\"></path><path d=\"M2 10h20\"></path></svg></div>\n      `,\n      name: 'file',\n      title: 'Favorites & Saved files',\n    },\n    {\n      icon: 'icon history',\n      iconSvg: `\n<div class=\"c-nav-menu\" title=\"Query history & Closed tabs\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"svg-icon lucide-clock\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><polyline points=\"12 6 12 12 16 14\"></polyline></svg></div>\n      `,\n      name: 'history',\n      title: 'Query history & Closed tabs',\n    },\n    {\n      icon: 'icon archive',\n      iconSvg: `\n<div class=\"c-nav-menu\" title=\"Archive (saved tabular data)\"><svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"css-i6dzq1\"><polyline points=\"21 8 21 21 3 21 3 8\"></polyline><rect x=\"1\" y=\"3\" width=\"22\" height=\"5\"></rect><line x1=\"10\" y1=\"12\" x2=\"14\" y2=\"12\"></line></svg></div>\n      `,\n      name: 'archive',\n      title: 'Archive (saved tabular data)',\n    },\n    {\n      icon: 'icon plugin',\n      iconSvg: `\n      <div class=\"c-nav-menu\" title=\"Extensions & Plugins\"><svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"css-i6dzq1\"><line x1=\"16.5\" y1=\"9.4\" x2=\"7.5\" y2=\"4.21\"></line><path d=\"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z\"></path><polyline points=\"3.27 6.96 12 12.01 20.73 6.96\"></polyline><line x1=\"12\" y1=\"22.08\" x2=\"12\" y2=\"12\"></line></svg></div>\n      `,\n      name: 'plugins',\n      title: 'Extensions & Plugins',\n    },\n    {\n      icon: 'icon cell-data',\n      iconSvg: `\n      <div class=\"c-nav-menu\" title=\"Selected cell data detail view\"><svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"css-i6dzq1\"><path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path><circle cx=\"12\" cy=\"12\" r=\"3\"></circle></svg></div>\n      `,\n      name: 'cell-data',\n      title: 'Selected cell data detail view',\n    },\n    {\n      icon: 'icon app',\n      iconSvg: `\n      <div class=\"c-nav-menu\" title=\"Application layers\"><svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"css-i6dzq1\"><rect x=\"3\" y=\"3\" width=\"7\" height=\"7\"></rect><rect x=\"14\" y=\"3\" width=\"7\" height=\"7\"></rect><rect x=\"14\" y=\"14\" width=\"7\" height=\"7\"></rect><rect x=\"3\" y=\"14\" width=\"7\" height=\"7\"></rect></svg></div>\n      `,\n      name: 'app',\n      title: 'Application layers',\n    },\n    // {\n    //   icon: 'icon settings',\n    //   name: 'settings',\n    // },\n    // {\n    //   icon: 'fa-check',\n    //   name: 'settings',\n    // },\n  ];\n\n  function handleChangeWidget(name) {\n    if ($visibleSelectedWidget == name) {\n      $visibleWidgetSideBar = false;\n    } else {\n      $selectedWidget = name;\n      $visibleWidgetSideBar = true;\n    }\n  }\n  //const handleChangeWidget= e => (selectedWidget.set(item.name))\n\n  function handleSettingsMenu() {\n    const rect = domSettings.getBoundingClientRect();\n    const left = rect.right;\n    const top = rect.bottom;\n    const items = [{ command: 'settings.show' }, { command: 'theme.changeTheme' }, { command: 'settings.commands' }];\n    currentDropDownMenu.set({ left, top, items });\n  }\n\n  function handleMainMenu() {\n    const rect = domMainMenu.getBoundingClientRect();\n    const left = rect.right;\n    const top = rect.top;\n    const items = mainMenuDefinition({ editMenu: false });\n    currentDropDownMenu.set({ left, top, items });\n  }\n</script>\n\n<div class=\"main\">\n  {#if $visibleHamburgerMenuWidget}\n    <div class=\"wrapper\" on:click={handleMainMenu} bind:this={domMainMenu}>\n<!--      <FontIcon icon=\"icon menu\" />-->\n      <div class=\"c-nav-menu\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"svg-icon lucide-chevron-down\" style=\" stroke-width: 1.75px; width: 18px; height: 18px;\"><polyline points=\"6 9 12 15 18 9\"></polyline></svg>\n      </div>\n    </div>\n  {/if}\n  {#each widgets.filter(x => hasPermission(`widgets/${x.name}`)) as item}\n    <div\n      class=\"wrapper\"\n      class:selected={item.name == $visibleSelectedWidget}\n      on:click={() => handleChangeWidget(item.name)}\n    >\n      {#if item.iconSvg}\n        {@html item.iconSvg}\n      {:else}\n        <FontIcon icon={item.icon} title={item.title} />\n      {/if}\n\n    </div>\n  {/each}\n\n  <div class=\"flex1\">&nbsp;</div>\n\n  <div\n    class=\"wrapper\"\n    title={`Toggle whether tabs from all databases are visible. Currently - ${$lockedDatabaseMode ? 'NO' : 'YES'}`}\n    on:click={() => {\n      $lockedDatabaseMode = !$lockedDatabaseMode;\n    }}\n  >\n    <div class=\"c-nav-menu\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"svg-icon lucide-table\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"3\" y1=\"9\" x2=\"21\" y2=\"9\"></line><line x1=\"3\" y1=\"15\" x2=\"21\" y2=\"15\"></line><line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"21\"></line></svg></div>\n<!--    <FontIcon icon={$lockedDatabaseMode ? 'icon locked-database-mode' : 'icon unlocked-database-mode'} />-->\n  </div>\n  <div class=\"wrapper\" on:click={handleSettingsMenu} bind:this={domSettings}>\n    <div class=\"c-nav-menu\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"svg-icon lucide-settings\"><path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\"></path><circle cx=\"12\" cy=\"12\" r=\"3\"></circle></svg></div>\n<!--    <FontIcon icon=\"icon settings\" />-->\n  </div>\n</div>\n\n<style>\n  .wrapper {\n    /*font-size: 23pt;*/\n    height: 28px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--theme-font-inv-4);\n    width: 30px;\n    margin: 3px;\n    margin-left: 4px;\n    padding: 0;\n    padding-top: 3px;\n    border-radius: 3px;\n  }\n  .wrapper:hover {\n    color: var(--theme-font-inv-4);\n    cursor: pointer;\n  }\n  .wrapper.selected {\n    /*color: var(--theme-font-inv-1);*/\n    /*background: var(--theme-bg-inv-3);*/\n    background: var(--theme-bg-2);\n  }\n\n  .main {\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    border-right: 1px solid var(--theme-border);\n  }\n</style>\n"],"names":["insert","target","div1","anchor","ctx","raw_value","div","create_if_block_1","each_value","ensure_array_like","i","div5","append","div0","div2","div4","each_blocks","domMainMenu","$$value","func","x","hasPermission","handleChangeWidget","item","set_store_value","lockedDatabaseMode","$lockedDatabaseMode","domSettings"],"mappings":"s6BAqHIA,EAKKC,EAAAC,EAAAC,CAAA,4BAL0BC,EAAc,CAAA,CAAA,+FAgBzB,KAAAA,MAAK,KAAa,MAAAA,MAAK,iKAFhCC,EAAAD,MAAK,QAAO,6KADhB,OAAAA,MAAK,QAAO,4IAHDA,EAAI,EAAA,EAAC,MAAQA,EAAsB,CAAA,CAAA,UAFrDJ,EAWKC,EAAAK,EAAAH,CAAA,iGATaC,EAAI,EAAA,EAAC,MAAQA,EAAsB,CAAA,CAAA,wHAXlDA,EAA2B,CAAA,GAAAG,EAAAH,CAAA,EAQzBI,EAAAC,EAAAL,KAAQ,OAAMA,EAAA,EAAA,CAAA,CAAA,uBAAnB,OAAIM,GAAA,ypDAmBsEN,EAAmB,CAAA,EAAG,KAAO,KAAK,EAAA,mFA5BhHJ,EAwCKC,EAAAU,EAAAR,CAAA,gFAhBHS,EAA8BD,EAAAE,CAAA,SAE9BD,EASKD,EAAAG,CAAA,EAFHF,EAAsbE,EAAAZ,CAAA,SAGxbU,EAGKD,EAAAI,CAAA,sDAH0BX,EAAkB,CAAA,CAAA,sBAnC5CA,EAA2B,CAAA,+DAQzBI,EAAAC,EAAAL,KAAQ,OAAMA,EAAA,EAAA,CAAA,CAAA,oBAAnB,OAAIM,GAAA,EAAA,sGAAJ,OAAIA,EAAAM,EAAA,OAAAN,GAAA,gGAmBsEN,EAAmB,CAAA,EAAG,KAAO,KAAK,kDAnB5G,OAAIM,GAAA;;;;;;;;;;;;;;gcAPsDO,EAAWC,WAOjD,MAAAC,EAAAC,GAAKC,GAAyB,WAAAD,EAAE,IAAI,EAAA,OAItCE,EAAmBC,EAAK,IAAI,SAiB5CC,EAAAC,EAAAC,GAAuBA,EAAmBA,CAAA,4CAMgBC,EAAWT"}