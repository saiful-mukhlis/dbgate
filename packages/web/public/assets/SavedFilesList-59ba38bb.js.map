{"version":3,"file":"SavedFilesList-59ba38bb.js","sources":["../../src/widgets/SavedFilesList.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import _ from 'lodash';\n  import AppObjectList from '../appobj/AppObjectList.svelte';\n  import * as savedFileAppObject from '../appobj/SavedFileAppObject.svelte';\n  import CloseSearchButton from '../buttons/CloseSearchButton.svelte';\n  import InlineButton from '../buttons/InlineButton.svelte';\n  import SearchBoxWrapper from '../elements/SearchBoxWrapper.svelte';\n  import SearchInput from '../elements/SearchInput.svelte';\n  import FontIcon from '../icons/FontIcon.svelte';\n  import { apiCall } from '../utility/api';\n  import { useFiles } from '../utility/metadataLoaders';\n  import WidgetsInnerContainer from './WidgetsInnerContainer.svelte';\n\n  let filter = '';\n\n  const sqlFiles = useFiles({ folder: 'sql' });\n  const shellFiles = useFiles({ folder: 'shell' });\n  const markdownFiles = useFiles({ folder: 'markdown' });\n  const chartFiles = useFiles({ folder: 'charts' });\n  const queryFiles = useFiles({ folder: 'query' });\n  const sqliteFiles = useFiles({ folder: 'sqlite' });\n  const diagramFiles = useFiles({ folder: 'diagrams' });\n  const perspectiveFiles = useFiles({ folder: 'perspectives' });\n\n  $: files = [\n    ...($sqlFiles || []),\n    ...($shellFiles || []),\n    ...($markdownFiles || []),\n    ...($chartFiles || []),\n    ...($queryFiles || []),\n    ...($sqliteFiles || []),\n    ...($diagramFiles || []),\n    ...($perspectiveFiles || []),\n  ];\n\n  function handleRefreshFiles() {\n    apiCall('files/refresh', {\n      folders: ['sql', 'shell', 'markdown', 'charts', 'query', 'sqlite', 'diagrams', 'perspectives'],\n    });\n  }\n</script>\n\n<WidgetsInnerContainer>\n  <SearchBoxWrapper>\n    <SearchInput placeholder=\"Search saved files\" bind:value={filter} />\n    <CloseSearchButton bind:filter />\n    <InlineButton on:click={handleRefreshFiles} title=\"Refresh files\">\n      <FontIcon icon=\"icon refresh\" />\n    </InlineButton>\n  </SearchBoxWrapper>\n\n  <AppObjectList list={files} module={savedFileAppObject} groupFunc={data => _.startCase(data.folder)} {filter} />\n</WidgetsInnerContainer>\n"],"names":["ctx","savedFileAppObject","filter","value","func","data","_"],"mappings":"wlBA4C8DA,EAAM,CAAA,IAAA,iBAANA,EAAM,CAAA,mQAExCA,EAAkB,EAAA,CAAA,0KAFgBA,EAAM,CAAA,8bAO7CA,EAAK,CAAA,SAAUC,kNAAfD,EAAK,CAAA,mgCAPkCE,EAAMC,kCAOC,MAAAC,EAAAC,GAAQC,EAAE,UAAUD,EAAK,MAAM"}