{"code":"var plugin=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){const{driverBase:r}=window.DBGATE_TOOLS,a=n(2),{mssqlSplitterOptions:s}=n(3),i=[\"GEOGRAPHY\"],o={limitSelect:!0,rangeSelect:!0,offsetFetchRangeSyntax:!0,rowNumberOverPaging:!0,defaultSchemaName:\"dbo\",stringEscapeChar:\"'\",fallbackDataType:\"nvarchar(max)\",explicitDropConstraint:!1,enableConstraintsPerTable:!0,dropColumnDependencies:[\"default\",\"dependencies\",\"indexes\",\"primaryKey\",\"foreignKeys\",\"uniques\"],changeColumnDependencies:[\"indexes\",\"dependencies\",\"uniques\"],anonymousPrimaryKey:!1,dropIndexContainsTableSpec:!0,quoteIdentifier:e=>`[${e}]`,createColumn:!0,dropColumn:!0,changeColumn:!0,createIndex:!0,dropIndex:!0,createForeignKey:!0,dropForeignKey:!0,createPrimaryKey:!0,dropPrimaryKey:!0,createUnique:!0,dropUnique:!0,createCheck:!0,dropCheck:!0,dropReferencesWhenDropTable:!0,columnProperties:{isSparse:!0,isPersisted:!0},predefinedDataTypes:[\"bigint\",\"bit\",\"decimal(10,2)\",\"int\",\"money\",\"numeric\",\"smallint\",\"smallmoney\",\"tinyint\",\"float\",\"real\",\"date\",\"datetime2\",\"datetime\",\"datetimeoffset\",\"smalldatetime\",\"time\",\"char(20)\",\"varchar(250)\",\"text\",\"nchar(20)\",\"nvarchar(250)\",\"ntext\",\"binary(100)\",\"varbinary(100)\",\"image\",\"xml\"],createColumnViewExpression:(e,t,n,r)=>t&&i.includes(t.toUpperCase())?{exprType:\"methodCall\",method:\"STAsText\",alias:r||e,thisObject:{exprType:\"column\",columnName:e,source:n}}:t&&\"XML\"==t.toUpperCase()?{exprType:\"call\",func:\"CONVERT\",alias:r||e,args:[{exprType:\"raw\",sql:\"NVARCHAR(MAX)\"},{exprType:\"column\",columnName:e,source:n}]}:void 0},l={...r,dumperClass:a,dialect:o,readOnlySessions:!1,requiresDefaultSortCriteria:!0,dialectByVersion:e=>e&&e.productVersionNumber<11?{...o,rangeSelect:!1,offsetFetchRangeSyntax:!1}:o,showConnectionField:(e,t)=>[\"authType\",\"server\",\"port\",\"user\",\"password\",\"defaultDatabase\",\"singleDatabase\",\"isReadOnly\"].includes(e)||\"trustServerCertificate\"==e&&\"sql\"!=t.authType&&\"sspi\"!=t.authType||\"windowsDomain\"==e&&\"sql\"!=t.authType&&\"sspi\"!=t.authType,getQuerySplitterOptions:e=>\"editor\"==e?{...s,adaptiveGoSplit:!0,ignoreComments:!0,preventSingleLineSplit:!0}:s,engine:\"mssql@dbgate-plugin-mssql\",title:\"Microsoft SQL Server\",defaultPort:1433,defaultAuthTypeName:\"tedious\",getNewObjectTemplates:()=>[{label:\"New view\",sql:\"CREATE VIEW myview\\nAS\\nSELECT * FROM table1\"},{label:\"New procedure\",sql:\"CREATE PROCEDURE myproc (@arg1 INT)\\nAS\\nBEGIN\\n  SELECT * FROM table1\\nEND\"},{label:\"New function\",sql:\"CREATE FUNCTION myfunc (@arg1 INT) RETURNS INT\\nAS\\nBEGIN\\n  RETURN 1;\\nEND\"},{label:\"New table valued function\",sql:\"CREATE FUNCTION myfunc (@arg1 INT) RETURNS TABLE \\nAS\\nRETURN SELECT * FROM table1\"}]};e.exports=l},function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r);t.default={drivers:[a.a]}},function(e,t){const{SqlDumper:n,testEqualColumns:r,arrayToHexString:a}=window.DBGATE_TOOLS;class s extends n{constructor(e,t){super(e),t&&t.useHardSeparator&&(this.useHardSeparator=!0)}endCommand(){this.useHardSeparator?this.putRaw(\"\\nGO\\n\"):super.endCommand()}dropDatabase(e){this.putCmd(\"USE master;\\n      ALTER DATABASE %i SET SINGLE_USER WITH ROLLBACK IMMEDIATE;\\n      DROP DATABASE %i\",e,e)}autoIncrement(){this.put(\" ^identity\")}putStringValue(e){/[^\\u0000-\\u00ff]/.test(e)&&this.putRaw(\"N\"),super.putStringValue(e)}putByteArrayValue(e){super.putRaw(\"0x\"+a(e))}allowIdentityInsert(e,t){this.putCmd(\"^set ^identity_insert %f %k\",e,t?\"on\":\"off\")}transform(e,t){switch(e){case\"GROUP:YEAR\":case\"YEAR\":this.put(\"^datepart(^year, %c)\",t);break;case\"MONTH\":this.put(\"^datepart(^month, %c)\",t);break;case\"DAY\":this.put(\"^datepart(^day, %c)\",t);break;case\"GROUP:MONTH\":this.put(\"^convert(^varchar(100), ^datepart(^year, %c)) + '-' + right('0' + ^convert(^varchar(100), ^datepart(^month, %c)), 2)\",t,t);break;case\"GROUP:DAY\":this.put(\"^^convert(^varchar(100), ^datepart(^year, %c)) + '-' + ^right('0' + ^convert(^varchar(100), ^datepart(^month, %c)), 2)+'-' + ^right('0' + ^convert(^varchar(100), ^datepart(^day, %c)), 2)\",t,t,t);break;default:t()}}renameObject(e,t){this.putCmd(\"^execute sp_rename '%f', '%s', 'OBJECT'\",e,t)}changeObjectSchema(e,t){this.putCmd(\"^execute sp_changeobjectowner '%f', '%s'\",e,t)}dropTable(e,t={}){t.testIfExists&&this.put(\"IF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'%f') AND type in (N'U'))&n\",e),super.dropTable(e,t)}dropColumn(e){e.defaultConstraint&&this.putCmd(\"^alter ^table %f ^drop ^constraint %i\",e,e.defaultConstraint),super.dropColumn(e)}dropDefault(e){e.defaultConstraint&&this.putCmd(\"^alter ^table %f ^drop ^constraint %i\",e,e.defaultConstraint)}guessDefaultName(e){return e.defaultConstraint||`DF${e.schemaName||\"dbo\"}_${e.pureName}_col.columnName`}createDefault(e){if(!e.defaultValue)return;const t=e.defaultValue;if(!t){const n=this.guessDefaultName(e);this.putCmd(\"^alter ^table %f ^add ^constraint %i ^default %s for %i\",e,n,t,e.columnName)}}renameColumn(e,t){this.putCmd(\"^execute sp_rename '%f.%i', '%s', 'COLUMN'\",e,e.columnName,t)}changeColumn(e,t,n){r(e,t,!1,!1)?(this.dropDefault(e),e.columnName!=t.columnName&&this.renameColumn(e,t.columnName),this.createDefault(e)):(this.dropDefault(e),e.columnName!=t.columnName&&this.renameColumn(e,t.columnName),this.put(\"^alter ^table %f ^alter ^column %i \",e,e.columnName,t.columnName),this.columnDefinition(t,{includeDefault:!1}),this.endCommand(),this.createDefault(e))}specialColumnOptions(e){e.isSparse&&this.put(\"^sparse \")}renameConstraint(e,t){\"index\"==e.constraintType?this.putCmd(\"^execute sp_rename '%f.%i', '%s', 'INDEX'\",e,e.constraintName,t):this.putCmd(\"^execute sp_rename '%f', '%s', 'OBJECT'\",{schemaName:e.schemaName,pureName:e.constraintName},t)}selectScopeIdentity(){this.put(\"^select ^scope_identity()\")}}s.prototype.renameView=s.prototype.renameObject,s.prototype.changeViewSchema=s.prototype.changeObjectSchema,s.prototype.renameProcedure=s.prototype.renameObject,s.prototype.changeProcedureSchema=s.prototype.changeObjectSchema,s.prototype.renameFunction=s.prototype.renameObject,s.prototype.changeFunctionSchema=s.prototype.changeObjectSchema,s.prototype.renameTrigger=s.prototype.renameObject,s.prototype.changeTriggerSchema=s.prototype.changeObjectSchema,s.prototype.renameTable=s.prototype.renameObject,s.prototype.changeTableSchema=s.prototype.changeObjectSchema,e.exports=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.redisSplitterOptions=t.noSplitSplitterOptions=t.mongoSplitterOptions=t.sqliteSplitterOptions=t.postgreSplitterOptions=t.mssqlSplitterOptions=t.mysqlSplitterOptions=t.defaultSplitterOptions=void 0,t.defaultSplitterOptions={stringsBegins:[\"'\"],stringsEnds:{\"'\":\"'\"},stringEscapes:{\"'\":\"'\"},allowSemicolon:!0,allowCustomDelimiter:!1,allowGoDelimiter:!1,allowDollarDollarString:!1,noSplit:!1,doubleDashComments:!0,multilineComments:!0,javaScriptComments:!1,returnRichInfo:!1,splitByLines:!1,preventSingleLineSplit:!1,adaptiveGoSplit:!1,ignoreComments:!1},t.mysqlSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{allowCustomDelimiter:!0,stringsBegins:[\"'\",\"`\"],stringsEnds:{\"'\":\"'\",\"`\":\"`\"},stringEscapes:{\"'\":\"\\\\\",\"`\":\"`\"}}),t.mssqlSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{allowSemicolon:!1,allowGoDelimiter:!0,stringsBegins:[\"'\",\"[\"],stringsEnds:{\"'\":\"'\",\"[\":\"]\"},stringEscapes:{\"'\":\"'\"}}),t.postgreSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{allowDollarDollarString:!0,stringsBegins:[\"'\",'\"'],stringsEnds:{\"'\":\"'\",'\"':'\"'},stringEscapes:{\"'\":\"'\",'\"':'\"'}}),t.sqliteSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{stringsBegins:[\"'\",'\"'],stringsEnds:{\"'\":\"'\",'\"':'\"'},stringEscapes:{\"'\":\"'\",'\"':'\"'}}),t.mongoSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{stringsBegins:[\"'\",'\"'],stringsEnds:{\"'\":\"'\",'\"':'\"'},stringEscapes:{\"'\":\"\\\\\",'\"':\"\\\\\"}}),t.noSplitSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{noSplit:!0}),t.redisSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{splitByLines:!0})}]);","extractedComments":[]}