{"code":"var plugin=function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){const{driverBase:i}=window.DBGATE_TOOLS,{mysqlSplitterOptions:s}=n(2),r=n(3),a=[\"POINT\",\"LINESTRING\",\"POLYGON\",\"GEOMETRY\",\"MULTIPOINT\",\"MULTILINESTRING\",\"MULTIPOLYGON\",\"GEOMCOLLECTION\",\"GEOMETRYCOLLECTION\"],l={...i,showConnectionField:(e,t)=>[\"authType\",\"user\",\"password\",\"defaultDatabase\",\"singleDatabase\",\"isReadOnly\"].includes(e)||\"socket\"==t.authType&&[\"socketPath\"].includes(e)||\"socket\"!=t.authType&&[\"server\",\"port\"].includes(e),dumperClass:r,dialect:{rangeSelect:!0,stringEscapeChar:\"\\\\\",fallbackDataType:\"longtext\",enableConstraintsPerTable:!1,anonymousPrimaryKey:!0,explicitDropConstraint:!0,quoteIdentifier:e=>\"`\"+e+\"`\",createColumn:!0,dropColumn:!0,changeColumn:!0,createIndex:!0,dropIndex:!0,createForeignKey:!0,dropForeignKey:!0,createPrimaryKey:!0,dropPrimaryKey:!0,dropIndexContainsTableSpec:!0,createUnique:!0,dropUnique:!0,createCheck:!0,dropCheck:!0,dropReferencesWhenDropTable:!1,requireStandaloneSelectForScopeIdentity:!0,columnProperties:{columnComment:!0,isUnsigned:!0,isZerofill:!0},predefinedDataTypes:[\"char(20)\",\"varchar(250)\",\"binary(250)\",\"varbinary(250)\",\"tinyblob\",\"tinytext\",\"text(1000)\",\"blob(1000)\",\"mediumtext\",\"mediumblob\",\"longtext\",\"longblob\",\"enum(val1,val2,val3)\",\"set(val1,val2,val3)\",\"bit(32)\",\"tinyint\",\"bool\",\"smallint\",\"mediumint\",\"int\",\"bigint\",\"float\",\"double\",\"decimal\",\"date\",\"datetime\",\"timestamp\",\"time\",\"year\"],createColumnViewExpression(e,t,n,i){if(t&&a.includes(t.toUpperCase()))return{exprType:\"call\",func:\"ST_AsText\",alias:i||e,args:[{exprType:\"column\",columnName:e,source:n}]}}},defaultPort:3306,getQuerySplitterOptions:e=>\"editor\"==e?{...s,ignoreComments:!0,preventSingleLineSplit:!0}:s,readOnlySessions:!0,supportsDatabaseDump:!0,authTypeLabel:\"Connection mode\",defaultAuthTypeName:\"hostPort\",defaultSocketPath:\"/var/run/mysqld/mysqld.sock\",getNewObjectTemplates:()=>[{label:\"New view\",sql:\"CREATE VIEW myview\\nAS\\nSELECT * FROM table1\"},{label:\"New procedure\",sql:\"DELIMITER //\\n\\nCREATE PROCEDURE myproc (IN arg1 INT)\\nBEGIN\\n  SELECT * FROM table1;\\nEND\\n\\nDELIMITER ;\"},{label:\"New function\",sql:\"CREATE FUNCTION myfunc (arg1 INT)\\nRETURNS INT DETERMINISTIC\\nRETURN 1\"}]},o={...l,engine:\"mysql@dbgate-plugin-mysql\",title:\"MySQL\",__analyserInternals:{quoteDefaultValues:!0}},p={...l,engine:\"mariadb@dbgate-plugin-mysql\",title:\"MariaDB\",__analyserInternals:{quoteDefaultValues:!1}};e.exports=[o,p]},function(e,t,n){\"use strict\";n.r(t);var i=n(0),s=n.n(i);t.default={packageName:\"dbgate-plugin-mysql\",drivers:s()}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.redisSplitterOptions=t.noSplitSplitterOptions=t.mongoSplitterOptions=t.sqliteSplitterOptions=t.postgreSplitterOptions=t.mssqlSplitterOptions=t.mysqlSplitterOptions=t.defaultSplitterOptions=void 0,t.defaultSplitterOptions={stringsBegins:[\"'\"],stringsEnds:{\"'\":\"'\"},stringEscapes:{\"'\":\"'\"},allowSemicolon:!0,allowCustomDelimiter:!1,allowGoDelimiter:!1,allowDollarDollarString:!1,noSplit:!1,doubleDashComments:!0,multilineComments:!0,javaScriptComments:!1,returnRichInfo:!1,splitByLines:!1,preventSingleLineSplit:!1,adaptiveGoSplit:!1,ignoreComments:!1},t.mysqlSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{allowCustomDelimiter:!0,stringsBegins:[\"'\",\"`\"],stringsEnds:{\"'\":\"'\",\"`\":\"`\"},stringEscapes:{\"'\":\"\\\\\",\"`\":\"`\"}}),t.mssqlSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{allowSemicolon:!1,allowGoDelimiter:!0,stringsBegins:[\"'\",\"[\"],stringsEnds:{\"'\":\"'\",\"[\":\"]\"},stringEscapes:{\"'\":\"'\"}}),t.postgreSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{allowDollarDollarString:!0,stringsBegins:[\"'\",'\"'],stringsEnds:{\"'\":\"'\",'\"':'\"'},stringEscapes:{\"'\":\"'\",'\"':'\"'}}),t.sqliteSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{stringsBegins:[\"'\",'\"'],stringsEnds:{\"'\":\"'\",'\"':'\"'},stringEscapes:{\"'\":\"'\",'\"':'\"'}}),t.mongoSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{stringsBegins:[\"'\",'\"'],stringsEnds:{\"'\":\"'\",'\"':'\"'},stringEscapes:{\"'\":\"\\\\\",'\"':\"\\\\\"}}),t.noSplitSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{noSplit:!0}),t.redisSplitterOptions=Object.assign(Object.assign({},t.defaultSplitterOptions),{splitByLines:!0})},function(e,t,n){const{SqlDumper:i,arrayToHexString:s}=window.DBGATE_TOOLS;n(4);e.exports=class extends i{transform(e,t){switch(e){case\"GROUP:YEAR\":case\"YEAR\":this.put(\"^year(%c)\",t);break;case\"MONTH\":this.put(\"^month(%c)\",t);break;case\"DAY\":this.put(\"^day(%c)\",t);break;case\"GROUP:MONTH\":this.put(\"^date_format(%c, '%s')\",t,\"%Y-%m\");break;case\"GROUP:DAY\":this.put(\"^date_format(%c, '%s')\",t,\"%Y-%m-%d\");break;default:t()}}renameTable(e,t){this.putCmd(\"^rename ^table %f ^to %i\",e,t)}changeColumn(e,t,n){this.put(\"^alter ^table %f ^change ^column %i %i \",e,e.columnName,t.columnName),this.columnDefinition(t),this.inlineConstraints(n),this.endCommand()}autoIncrement(){}specialColumnOptions(e){e.isUnsigned&&this.put(\"^unsigned \"),e.isZerofill&&this.put(\"^zerofill \"),e.autoIncrement&&this.put(\"^auto_increment \")}columnDefinition(e,t){super.columnDefinition(e,t),e.columnComment&&this.put(\" ^comment %v \",e.columnComment)}renameColumn(e,t){this.changeColumn(e,{...e,columnName:t},[])}enableConstraints(e,t){this.putCmd(\"^set FOREIGN_KEY_CHECKS = %s\",t?\"1\":\"0\")}comment(e){this.put(\"/* %s */\",e)}beginTransaction(){this.putCmd(\"^start ^transaction\")}selectTableIntoNewTable(e,t){this.putCmd(\"^create ^table %f (^select * ^from %f)\",t,e)}putByteArrayValue(e){this.putRaw(`unhex('${s(e)}')`)}selectScopeIdentity(){this.put(\"^select ^last_insert_id()\")}}},function(e,t){var n=Array.isArray;e.exports=n}]);","extractedComments":[]}